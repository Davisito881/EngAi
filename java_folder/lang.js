const translations = {
    en: {
        // Navigare & Header
        nav_metrics: "Metrics",
        nav_process: "Process",
        nav_pricing: "Pricing",
        nav_benefits: "Benefits",
        login_btn: "Log In",
        secure_ssl: "256-bit SSL Secure",

        // Secțiunea Metrics
        stat1_label: "Simulations Run / Day",
        stat2_label: "Uptime Reliability (%)",
        stat3_label: "Supported Materials",

        // Secțiunea Process (How it works)
        hiw_title: "How EngAI Works",
        hiw_process: "// PROCESS",
        hiw_step1_title: "Upload Blueprints",
        hiw_step1_desc: "Securely upload your CAD files or 2D drawings directly into our encrypted cloud platform.",
        hiw_step2_title: "AI Analysis",
        hiw_step2_desc: "Our neural networks scan the structure, identifying load-bearing elements and potential weak points.",
        hiw_step3_title: "Optimization",
        hiw_step3_desc: "The AI suggests material improvements and geometry changes to maximize strength and reduce cost.",
        hiw_step4_title: "Export Results",
        hiw_step4_desc: "Download comprehensive reports and optimized files ready for manufacturing or further review.",

        // Secțiunea Pricing
        pricing_title: "Choose Your",
        pricing_power: "Power",
        plan_free: "Free",
        see_features: "See Features",
        plan_standard_f1: "Basic structural analysis",
        plan_standard_f2: "5 Simulations / month",
        plan_standard_f3: "Community Support",
        plan_gold_badge: "Most Popular",
        plan_gold_f1: "Advanced AI optimization",
        plan_gold_f2: "50 Simulations / month",
        plan_gold_f3: "Export to PDF & CAD",
        plan_gold_f4: "Priority Email Support",
        plan_platinum_f1: "Unlimited Simulations",
        plan_platinum_f2: "Full Neural Network Access",
        plan_platinum_f3: "API Integration",
        plan_platinum_f4: "24/7 Dedicated Support",
        agree_text: "I agree to",
        terms_link: "Terms",
        btn_start_free: "Start Free",
        btn_get_free: "Get Free Access",
        btn_go_gold: "Go Gold",
        btn_get_platinum: "Get Platinum",
        per_month: "/mo",

        // Secțiunea Benefits & HTML Elements
        upgrade_title: "Upgrade to",
        subtitle: "The AI platform dedicated to structural calculations and engineering optimization.",
        benefit1_title: "Neural Processing Speed",
        benefit1_desc: "Complex simulations solved in seconds, not hours.",
        benefit2_title: "Apple Watch Extension",
        benefit2_desc: "Solve engineering problems directly from your wrist.",
        benefit3_title: "Secure Cloud Storage",
        benefit3_desc: "Unlimited archive for your technical projects.",
        
        // Footer & Modal
        trusted_by: "Officially Recognized & Trusted By:",
        cert1: "Aviz Ministerul Cercetării",
        cert2: "ISO 27001 Certified",
        cert3: "GDPR Compliant",
        modal_welcome: "Welcome Back",
        modal_desc: "Access your neural dashboard.",
        modal_email: "Email Address",
        modal_pass: "Password",
        modal_remember: "Remember me",
        modal_forgot: "Forgot password?",
        modal_signup_text: "Don't have an account?",
        modal_signup_link: "Sign up",

        payment_details: "Payment Details",
        pay_btn: "Proceed to Checkout",
        disclaimer: "Payments are securely processed by Stripe.",

        // REVIEWS (NOU - Traduceri pentru recenzii)
        rev1_job: "Civil Engineer",
        rev1_text: "\"Calculations that took 4 hours now take 10 minutes. Incredible.\"",
        rev2_job: "Architect",
        rev2_text: "\"The export feature to PDF is a lifesaver for my team.\"",
        rev3_job: "Researcher",
        rev3_text: "\"Accuracy is unmatched. Best investment for our lab.\"",
        rev4_job: "Structural Lead",
        rev4_text: "\"Finally, an AI that understands physics properly.\"",
        
        // JS Error Messages
        msg_success: "Payment successful! EngAI Pro is now active.",
        msg_processing: "Payment is processing...",
        msg_failure: "Payment failed. Please try again.",
        msg_error: "Something went wrong.",
        server_error_title: "Cannot connect to payment server.",
        server_error_desc: "Please ensure 'npm start' is running."
    },
    es: {
        nav_metrics: "Métricas",
        nav_process: "Proceso",
        nav_pricing: "Precios",
        nav_benefits: "Beneficios",
        login_btn: "Iniciar Sesión",
        secure_ssl: "Seguridad SSL 256-bit",

        stat1_label: "Simulaciones / Día",
        stat2_label: "Confiabilidad de Actividad (%)",
        stat3_label: "Materiales Soportados",

        hiw_title: "Cómo funciona EngAI",
        hiw_process: "// PROCESO",
        hiw_step1_title: "Subir Planos",
        hiw_step1_desc: "Sube de forma segura tus archivos CAD o dibujos 2D directamente a nuestra plataforma encriptada.",
        hiw_step2_title: "Análisis con IA",
        hiw_step2_desc: "Nuestras redes neuronales escanean la estructura, identificando elementos de carga y puntos débiles.",
        hiw_step3_title: "Optimización",
        hiw_step3_desc: "La IA sugiere mejoras de materiales y cambios de geometría para maximizar la resistencia y reducir costos.",
        hiw_step4_title: "Exportar Resultados",
        hiw_step4_desc: "Descarga informes completos y archivos optimizados listos para fabricación o revisión.",

        pricing_title: "Elige tu",
        pricing_power: "Poder",
        plan_free: "Gratis",
        see_features: "Ver Funciones",
        plan_standard_f1: "Análisis estructural básico",
        plan_standard_f2: "5 Simulaciones / mes",
        plan_standard_f3: "Soporte de la Comunidad",
        plan_gold_badge: "Más Popular",
        plan_gold_f1: "Optimización avanzada con IA",
        plan_gold_f2: "50 Simulaciones / mes",
        plan_gold_f3: "Exportar a PDF y CAD",
        plan_gold_f4: "Soporte prioritario por correo",
        plan_platinum_f1: "Simulaciones Ilimitadas",
        plan_platinum_f2: "Acceso total a la Red Neuronal",
        plan_platinum_f3: "Integración API",
        plan_platinum_f4: "Soporte dedicado 24/7",
        agree_text: "Acepto los",
        terms_link: "Términos",
        btn_start_free: "Comenzar Gratis",
        btn_get_free: "Obtener Acceso",
        btn_go_gold: "Obtener Gold",
        btn_get_platinum: "Obtener Platinum",
        per_month: "/mes",

        upgrade_title: "Mejora a",
        subtitle: "La plataforma de IA dedicada a cálculos estructurales y optimización.",
        benefit1_title: "Velocidad de Procesamiento",
        benefit1_desc: "Simulaciones complejas resueltas en segundos.",
        benefit2_title: "Extensión Apple Watch",
        benefit2_desc: "Resuelve problemas de ingeniería desde tu muñeca.",
        benefit3_title: "Almacenamiento Seguro",
        benefit3_desc: "Archivo ilimitado para tus proyectos técnicos.",
        
        trusted_by: "Reconocido Oficialmente y Confiado Por:",
        cert1: "Aviso Ministerio de Investigación",
        cert2: "Certificado ISO 27001",
        cert3: "Cumple con GDPR",
        modal_welcome: "Bienvenido",
        modal_desc: "Accede a tu panel neuronal.",
        modal_email: "Correo Electrónico",
        modal_pass: "Contraseña",
        modal_remember: "Recuérdame",
        modal_forgot: "¿Olvidaste tu contraseña?",
        modal_signup_text: "¿No tienes una cuenta?",
        modal_signup_link: "Regístrate",

        payment_details: "Detalles del Pago",
        pay_btn: "Ir al Pago",
        disclaimer: "Pagos procesados de forma segura por Stripe.",

        // REVIEWS (ES)
        rev1_job: "Ingeniero Civil",
        rev1_text: "\"Cálculos de 4 horas ahora toman 10 minutos. Increíble.\"",
        rev2_job: "Arquitecta",
        rev2_text: "\"La exportación a PDF es un salvavidas para mi equipo.\"",
        rev3_job: "Investigadora",
        rev3_text: "\"Precisión inigualable. La mejor inversión para el laboratorio.\"",
        rev4_job: "Líder Estructural",
        rev4_text: "\"Por fin una IA que entiende la física correctamente.\"",

        // JS Error Messages
        msg_success: "¡Pago exitoso! EngAI Pro está activo.",
        msg_processing: "Procesando el pago...",
        msg_failure: "El pago falló. Inténtalo de nuevo.",
        msg_error: "Algo salió mal.",
        server_error_title: "No se puede conectar al servidor.",
        server_error_desc: "Asegúrate de ejecutar 'npm start'."
    },
    fr: {
        nav_metrics: "Métriques",
        nav_process: "Processus",
        nav_pricing: "Tarifs",
        nav_benefits: "Avantages",
        login_btn: "Connexion",
        secure_ssl: "Sécurisé SSL 256-bit",

        stat1_label: "Simulations / Jour",
        stat2_label: "Fiabilité de Disponibilité (%)",
        stat3_label: "Matériaux Supportés",

        hiw_title: "Comment fonctionne EngAI",
        hiw_process: "// PROCESSUS",
        hiw_step1_title: "Télécharger les plans",
        hiw_step1_desc: "Téléchargez en toute sécurité vos fichiers CAD ou dessins 2D directement sur notre plateforme cloud.",
        hiw_step2_title: "Analyse IA",
        hiw_step2_desc: "Nos réseaux neuronaux scannent la structure, identifiant les éléments porteurs et les points faibles.",
        hiw_step3_title: "Optimisation",
        hiw_step3_desc: "L'IA suggère des améliorations matérielles et des changements géométriques pour maximiser la résistance.",
        hiw_step4_title: "Exporter les résultats",
        hiw_step4_desc: "Téléchargez des rapports complets et des fichiers optimisés prêts pour la fabrication.",

        pricing_title: "Choisissez Votre",
        pricing_power: "Puissance",
        plan_free: "Gratuit",
        see_features: "Voir les fonctionnalités",
        plan_standard_f1: "Analyse structurelle de base",
        plan_standard_f2: "5 Simulations / mois",
        plan_standard_f3: "Support Communautaire",
        plan_gold_badge: "Populaire",
        plan_gold_f1: "Optimisation IA avancée",
        plan_gold_f2: "50 Simulations / mois",
        plan_gold_f3: "Exportation PDF & CAD",
        plan_gold_f4: "Support Email Prioritaire",
        plan_platinum_f1: "Simulations Illimitées",
        plan_platinum_f2: "Accès total au Réseau",
        plan_platinum_f3: "Intégration API",
        plan_platinum_f4: "Support Dédié 24/7",
        agree_text: "J'accepte les",
        terms_link: "Conditions",
        btn_start_free: "Démarrer Gratuitement",
        btn_get_free: "Obtenir l'Accès",
        btn_go_gold: "Passer au Gold",
        btn_get_platinum: "Passer au Platinum",
        per_month: "/mois",

        upgrade_title: "Passez à",
        subtitle: "La plateforme IA dédiée aux calculs structurels et à l'optimisation.",
        benefit1_title: "Vitesse Neuronale",
        benefit1_desc: "Simulations complexes résolues en quelques secondes.",
        benefit2_title: "Extension Apple Watch",
        benefit2_desc: "Résolvez des problèmes d'ingénierie depuis votre poignet.",
        benefit3_title: "Stockage Cloud Sécurisé",
        benefit3_desc: "Archives illimitées pour vos projets techniques.",
        
        trusted_by: "Officiellement Reconnu par:",
        cert1: "Avis Ministère de la Recherche",
        cert2: "Certifié ISO 27001",
        cert3: "Conforme au RGPD",
        modal_welcome: "Bon retour",
        modal_desc: "Accédez à votre tableau de bord.",
        modal_email: "Adresse Email",
        modal_pass: "Mot de passe",
        modal_remember: "Se souvenir de moi",
        modal_forgot: "Mot de passe oublié ?",
        modal_signup_text: "Vous n'avez pas de compte ?",
        modal_signup_link: "S'inscrire",

        payment_details: "Détails du Paiement",
        pay_btn: "Passer au Paiement",
        disclaimer: "Paiements sécurisés par Stripe.",

        // REVIEWS (FR)
        rev1_job: "Ingénieur Civil",
        rev1_text: "\"Des calculs de 4h prennent maintenant 10 min. Incroyable.\"",
        rev2_job: "Architecte",
        rev2_text: "\"L'export PDF est un véritable sauveur pour mon équipe.\"",
        rev3_job: "Chercheuse",
        rev3_text: "\"Précision inégalée. Meilleur investissement pour notre labo.\"",
        rev4_job: "Chef de Structure",
        rev4_text: "\"Enfin une IA qui comprend correctement la physique.\"",

        // JS Error Messages
        msg_success: "Paiement réussi ! EngAI Pro est actif.",
        msg_processing: "Paiement en cours...",
        msg_failure: "Échec du paiement. Veuillez réessayer.",
        msg_error: "Une erreur est survenue.",
        server_error_title: "Impossible de se connecter au serveur.",
        server_error_desc: "Vérifiez que 'npm start' est lancé."
    },
    it: {
        nav_metrics: "Metriche",
        nav_process: "Processo",
        nav_pricing: "Prezzi",
        nav_benefits: "Vantaggi",
        login_btn: "Accedi",
        secure_ssl: "Sicurezza SSL 256-bit",

        stat1_label: "Simulazioni / Giorno",
        stat2_label: "Affidabilità di Uptime (%)",
        stat3_label: "Materiali Supportati",

        hiw_title: "Come funziona EngAI",
        hiw_process: "// PROCESSO",
        hiw_step1_title: "Carica Progetti",
        hiw_step1_desc: "Carica in modo sicuro i tuoi file CAD o disegni 2D direttamente sulla nostra piattaforma cloud.",
        hiw_step2_title: "Analisi IA",
        hiw_step2_desc: "Le nostre reti neurali scansionano la struttura, identificando elementi portanti e punti deboli.",
        hiw_step3_title: "Ottimizzazione",
        hiw_step3_desc: "L'IA suggerisce miglioramenti dei materiali e modifiche geometriche per massimizzare la resistenza.",
        hiw_step4_title: "Esporta Risultati",
        hiw_step4_desc: "Scarica rapporti completi e file ottimizzati pronti per la produzione.",

        pricing_title: "Scegli il tuo",
        pricing_power: "Potere",
        plan_free: "Gratis",
        see_features: "Vedi Funzionalità",
        plan_standard_f1: "Analisi strutturale di base",
        plan_standard_f2: "5 Simulazioni / mese",
        plan_standard_f3: "Supporto della Comunità",
        plan_gold_badge: "Più Popolare",
        plan_gold_f1: "Ottimizzazione IA avanzata",
        plan_gold_f2: "50 Simulazioni / mese",
        plan_gold_f3: "Esportazione PDF e CAD",
        plan_gold_f4: "Supporto Email Prioritario",
        plan_platinum_f1: "Simulazioni Illimitate",
        plan_platinum_f2: "Accesso totale alla Rete",
        plan_platinum_f3: "Integrazione API",
        plan_platinum_f4: "Supporto Dedicato 24/7",
        agree_text: "Accetto i",
        terms_link: "Termini",
        btn_start_free: "Inizia Gratis",
        btn_get_free: "Ottieni Accesso",
        btn_go_gold: "Vai a Gold",
        btn_get_platinum: "Ottieni Platinum",
        per_month: "/mese",

        upgrade_title: "Passa a",
        subtitle: "La piattaforma AI dedicata ai calcoli strutturali e all'ottimizzazione.",
        benefit1_title: "Velocità Neurale",
        benefit1_desc: "Simulazioni complesse risolte in secondi.",
        benefit2_title: "Estensione Apple Watch",
        benefit2_desc: "Risolvi problemi di ingegneria direttamente dal polso.",
        benefit3_title: "Cloud Sicuro",
        benefit3_desc: "Archivio illimitato per i tuoi progetti tecnici.",
        
        trusted_by: "Ufficialmente Riconosciuto da:",
        cert1: "Avviso Ministero della Ricerca",
        cert2: "Certificato ISO 27001",
        cert3: "Conforme al GDPR",
        modal_welcome: "Bentornato",
        modal_desc: "Accedi alla tua dashboard.",
        modal_email: "Indirizzo Email",
        modal_pass: "Password",
        modal_remember: "Ricordami",
        modal_forgot: "Password dimenticata?",
        modal_signup_text: "Non hai un account?",
        modal_signup_link: "Registrati",

        payment_details: "Dettagli Pagamento",
        pay_btn: "Vai al Pagamento",
        disclaimer: "Pagamenti sicuri tramite Stripe.",

        // REVIEWS (IT)
        rev1_job: "Ingegnere Civile",
        rev1_text: "\"Calcoli da 4 ore ora richiedono 10 minuti. Incredibile.\"",
        rev2_job: "Architetto",
        rev2_text: "\"La funzione di esportazione PDF è una salvezza.\"",
        rev3_job: "Ricercatrice",
        rev3_text: "\"Precisione ineguagliabile. Miglior investimento.\"",
        rev4_job: "Capo Strutturale",
        rev4_text: "\"Finalmente un'IA che capisce bene la fisica.\"",

        // JS Error Messages
        msg_success: "Pagamento riuscito! EngAI Pro è attivo.",
        msg_processing: "Elaborazione pagamento...",
        msg_failure: "Pagamento fallito. Riprova.",
        msg_error: "Qualcosa è andato storto.",
        server_error_title: "Impossibile connettersi al server.",
        server_error_desc: "Assicurati che 'npm start' sia in esecuzione."
    }
};

// Funcție globală pentru a obține textul tradus în JS (dacă e nevoie)
window.getTranslation = function(key) {
    const lang = localStorage.getItem('preferredLanguage') || 'en';
    return translations[lang][key] || translations['en'][key];
};

// Logica de schimbare a limbii
document.addEventListener('DOMContentLoaded', () => {
    const langSelector = document.getElementById('language-select');
    
    // 1. Încarcă limba salvată sau default EN
    const savedLang = localStorage.getItem('preferredLanguage') || 'en';
    
    // Verificăm dacă selectorul există înainte să-i setăm valoarea
    if(langSelector) {
        langSelector.value = savedLang;
        
        // 2. Ascultă schimbarea
        langSelector.addEventListener('change', (e) => {
            const selectedLang = e.target.value;
            localStorage.setItem('preferredLanguage', selectedLang);
            updatePageLanguage(selectedLang);
            
            // Nu mai e nevoie de reload complet pentru că textul se schimbă instant,
            // iar Stripe Elements nu mai e folosit local.
        });
    }

    // Actualizăm textul la încărcare
    updatePageLanguage(savedLang);
});

function updatePageLanguage(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            // Folosim innerHTML pentru ca iconițele/span-urile interne sa nu fie stricate de textContent
            el.innerHTML = translations[lang][key]; 
        }
    });

    // --- ACTUALIZĂRI SPECIALE PENTRU PLACEHOLDERE ---
    const emailInput = document.querySelector('input[type="email"]');
    if (emailInput && translations[lang]['modal_email']) emailInput.placeholder = translations[lang]['modal_email'];
    
    const passInput = document.querySelector('input[type="password"]');
    if (passInput && translations[lang]['modal_pass']) passInput.placeholder = translations[lang]['modal_pass'];
}